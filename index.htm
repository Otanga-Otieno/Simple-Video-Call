<!DOCTYPE html>

<html>
    <head>
        <title>Video Call</title>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            video {
                -webkit-transform: scaleX(-1);
                transform: scaleX(-1);
            }
          </style>
    </head>
    
    <body style="text-align: center; background: linear-gradient(90deg, #1de5e2, #b588f7);" onload="getLink();">
        <h1>Simple Video Call</h1>

        <div>
            <video id="localVideo" style="height: 62.5% !important; max-width: 100%;" autoplay playsinline muted></video>
        </div>

        <div>
            <button onclick="makeCall();">Start</button>
            <button onclick="switchStream();">Switch</button>
        </div>

        <div style="margin: 1%;">
            <div>Call link: </div>
            <div id="linkdiv" style="display: inline; border: solid 1px black; border-radius: 3px; background-color: white;" ></div>
            <button style="display: inline;" onclick="copyLink();">Copy</button>
        </div>

    </body>
</html>

<!--<script src="/socket.io/socket.io.js"></script>-->
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="main.js"></script>
<script>
    function getLink() {
        document.querySelector("#linkdiv").innerHTML = window.location.href;
    }

    function copyLink() {
        let link = window.location.href;
        navigator.clipboard.writeText(link);
    }
</script>