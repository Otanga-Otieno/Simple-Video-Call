<!DOCTYPE html>

<html>
    <head>
        <title>Video Call</title>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <style>
            video {
                -webkit-transform: scaleX(-1);
                transform: scaleX(-1);
                height: 65vh !important;
                object-fit: fill !important;
            }
          </style>
    </head>
    
    <body style="text-align: center; background: #2C1B47;" onload="getLink();">
        <h1 style="color: white;">Gugul Meat</h1>

        <div>
            <video id="localVideo" style="max-width: 100%;" width="360" autoplay playsinline muted></video>
        </div>

        <div>
            <button class="btn btn-light m-1" onclick="makeCall();">Start</button>
            <button class="btn btn-light m-1" onclick="switchStream();">Switch</button>
        </div>

        <div style="margin: 1%;">
            <div style="color: white;">Call link: </div>
            <div class="rounded p-1" style="display: inline; border: solid 1px black; background-color: white;" ><span id="linkdiv"></span></div>
            <button class="btn btn-light m-1" style="display: inline;" onclick="copyLink();">Copy</button>
        </div>

    </body>
</html>

<!--<script src="/socket.io/socket.io.js"></script>-->
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<script src="main.js"></script>
<script>
    function getLink() {
        document.querySelector("#linkdiv").innerHTML = window.location.href;
    }

    function copyLink() {
        let link = window.location.href;
        navigator.clipboard.writeText(link);
    }
</script>